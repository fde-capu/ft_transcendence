<app-menu-bar></app-menu-bar>
<app-invitation-screen></app-invitation-screen>
<main *ngIf="status === 'WAITING'">
  <header>
    <h2>Room {{ room.id }}</h2>
  </header>
  <aside>
    <form>
      <fieldset>
        <legend>Game Mode</legend>
        <label>
          <input type="radio" name="mode" value="PONG" checked />
          <span>PONG</span>
        </label>
        <label>
          <input type="radio" name="mode" value="PONGDOUBLE" />
          <span>PONGDOUBLE</span>
        </label>
        <label>
          <input type="radio" name="mode" value="QUADRAPONG" />
          <span>QUADRAPONG</span>
        </label>
        <button type="submit">Set Mode</button>
      </fieldset>
    </form>
    <form>
      <fieldset>
        <legend>Invite</legend>
        <label>
          Player:
          <select name="playerToInvite">
            <option value="" disabled selected hidden>Please Choose...</option>
            <option *ngFor="let user of availableUsers$ | async">
              {{ user.intraId }} | {{ user.name }}
            </option>
          </select>
        </label>
        <button>Invite</button>
      </fieldset>
    </form>
    <button>Leave</button>
    <button>Ready</button>
    <button disabled="true">Start</button>
  </aside>
  <section>
    <h3>Players</h3>
    <ul>
      <li *ngFor="let team of room.teams">
        <p>{{ team.id }}</p>
        <span>
          <ul>
            <li *ngFor="let player of team.players">
              <p>{{ player.name }}</p>
              <p>{{ player.ready }}</p>
            </li>
          </ul>
        </span>
      </li>
    </ul>
    <div>
      <h3>Audience</h3>
      <ul>
        <li *ngFor="let user of room.audience">{{ user.name }}</li>
      </ul>
    </div>
  </section>
</main>
<app-game *ngIf="status === 'RUNNING'"></app-game>
